<p id="notice"><%= notice %></p>

<h1>Listing Courses</h1> 

<% if user_signed_in? %>  
  <table>
    <thead>
      <tr>
        <th>Course type</th>
        <th>Classroom</th>
        <th>Name</th>
        <th>Start date</th>
        <th>End date</th>
        <th>Description</th>
        <th>Capacity</th>
        <!-- <th colspan="3"></th> -->
      </tr>
    </thead>

    <tbody>
      <% @courses.each do |course| %>
        <tr>
          <td><strong><%= course.name %></strong></td>
          <td><%= course.course_type.name %></td>
          <td><%= course.classroom.name %></td>
          <td><%= course.start_date %></td>
          <td><%= course.end_date %></td>
          <td><%= course.description %></td>
          <td><%= course.capacity %></td>
          <!-- <td><%= link_to 'Show', course %></td> -->
          <td>
            <% if can? :update, course %>
              <button class="change"><%= link_to 'Edit', edit_course_path(course) %></button></td>
            <% end %>
          <td>
            <% if can? :destroy, course %>
              <button class="change"><%= link_to 'Destroy', course, method: :delete, data: { confirm: 'Are you sure?' } %></button>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <p>
    <% if can? :create, Course %> <!-- Course is a class -->
      <button class="new"><%= link_to 'New Course', new_course_path %></button>
    <% end %>
  </p>


<% else %>
  <table>
    <thead>
      <tr>
        <th>Course type</th>
        <th>Classroom</th>
        <th>Name</th>
        <th>Start date</th>
        <th>End date</th>
        <th>Description</th>
        <th>Capacity</th>
        <!-- <th colspan="3"></th> -->
      </tr>
    </thead>

    <tbody>
      <% @courses.each do |course| %>
        <tr>
          <td><%= course.course_type.name %></td>
          <td><%= course.classroom.name %></td>
          <td><%= course.name %></td>
          <td><%= course.start_date %></td>
          <td><%= course.end_date %></td>
          <td><%= course.description %></td>
          <td><%= course.capacity %></td>
          <!-- <td><%= link_to 'Show', course %></td> -->
          <!-- <td><%= link_to 'Edit', edit_course_path(course) %></td> -->
          <!-- <td><%= link_to 'Destroy', course, method: :delete, data: { confirm: 'Are you sure?' } %></td> -->
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

